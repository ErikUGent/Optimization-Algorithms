import math
import pandas as pd
import matplotlib.pyplot as plt
import numpy as np
from math import sin, cos, sqrt, atan2, radians

def calculate_distance(starting_x, starting_y, destination_x, destination_y):
    lat1 = radians(starting_x)
    lon1 = radians(starting_y)
    lat2 = radians(destination_x)
    lon2 = radians(destination_y)

    R = 6373.0

    dlon = lon2 - lon1
    dlat = lat2 - lat1

    a = sin(dlat / 2)**2 + cos(lat1) * cos(lat2) * sin(dlon / 2)**2
    c = 2 * atan2(sqrt(a), sqrt(1 - a))

    distance = round(R * c)
    
    return distance

def calculate_path(selected_map):
    total_distance = 0
    current_point = selected_map[0]
    for next_point in selected_map[1:]:
        current_distance = calculate_distance(
            current_point[0], current_point[1],
            next_point[0], next_point[1]
        )
        print(current_point, 'to', next_point, '=', current_distance)
        total_distance += current_distance
        current_point = next_point
    return total_distance

selected_map = [(51.671, 2.827), (53.3169327, 4.0873975), (53.3267762, 4.1588087), (51.63179, 2.81394), (53.1231346, 4.2709215), (53.3078626, 4.3501827), (53.3265263, 4.2245265), (51.64247, 2.82494), (51.62972, 2.80453), (53.3382126, 4.2502758), (56.6958215, -1.4638276), (53.1939003, 4.256236), (53.2396772, 4.1478989), (51.71126, 2.80106), (51.67883, 2.83909), (53.3074972, 4.1224165), (51.64843, 2.81384), (53.3284165, 4.0125532), (51.67005, 2.85506), (53.3082728, 4.2519924), (51.24641, 2.919255), (53.1760041, 4.1508358), (56.7406608, -1.3931031), (51.64278, 2.81062), (53.2145133, 4.3625887), (53.3523549, 4.3131038), (53.2196059, 4.2249936), (53.3660827, 4.2567989), (51.63435, 2.80963), (53.32222, 4.2743083), (53.3490759, 4.3501827), (53.3519898, 4.0781278), (53.3462514, 4.0455122), (56.6709295, -1.5524049), (53.3523549, 4.2773983), (53.1630853, 4.2674883), (53.3916825, 4.2852947), (51.68223, 2.83385), (53.3287818, 4.32821), (51.64676, 2.83386), (51.67572, 2.84354), (53.3407173, 4.1172666), (53.3316971, 4.0503187), (51.6848, 2.7853), (53.2220726, 4.1522091), (53.3791918, 4.2942211), (53.3089331, 4.1533155), (56.7259714, -1.5245957), (53.2744565, 4.1402692), (56.7084497, -1.5709443), (53.4069326, 4.2921606), (53.3677217, 4.1630805), (53.1943609, 4.2983873), (56.656779, -1.5033097), (53.343177, 4.1505689), (51.63657, 2.82097), (53.1340527, 4.2393358), (53.2550846, 4.168155), (53.3107344, 4.2990276), (56.7446146, -1.3443513), (53.380011, 4.2434093), (51.67843, 2.85554), (53.2183725, 4.2538327), (53.1797078, 4.2064541), (53.1330204, 4.3234499), (51.66913, 2.84009), (51.62131, 2.80156), (53.2046416, 4.3855913), (53.2730193, 4.0087766), (51.6539, 2.817), (53.3415372, 4.0118665), (53.2726087, 4.0722913), (56.6945018, -1.5125794), (53.2721289, 4.1925309), (53.2982648, 4.0132398), (56.6907313, -1.5620179), (53.3021631, 4.0479154), (56.7193782, -1.5757508), (51.65939, 2.83402), (53.3423123, 4.1977474), (53.2227361, 4.3306596), (53.1976517, 4.3385561), (53.2955972, 4.148509), (53.2773305, 4.2225903), (53.1723469, 4.3155534), (53.2719928, 4.1200132), (53.1932856, 4.1879147), (53.3772463, 4.1927779), (51.66732, 2.83209), (51.67255, 2.84803), (53.3033941, 4.084651), (53.3976198, 4.2573225), (53.2045947, 4.2218263), (51.66503, 2.8239), (51.68399, 2.84664), (53.1571133, 4.3437059), (53.1464094, 4.2939241), (56.7359533, -1.4377351), (53.2709661, 4.2431897), (53.3577274, 4.1124601), (53.3697701, 4.3632289), (53.3130356, 4.0146131), (56.7150449, -1.4700074), (53.2925191, 4.1083402), (53.3877924, 4.3264934), (53.3353874, 4.0815611), (56.656779, -1.5537781), (51.66205, 2.85334), (53.1529512, 4.1831082), (53.3681313, 4.2149135), (53.3654681, 4.2966243), (56.6552693, -1.4463181), (51.66494, 2.8485), (56.7118416, -1.5173859), (51.67664, 2.83062), (53.3437471, 4.4013378), (53.2959628, 4.2736217), (51.67431, 2.77907), (51.66719, 2.85984), (53.236251, 4.3118543), (53.1821745, 4.2812212), (51.67223, 2.8662), (53.1683874, 4.2356366), (56.6750793, -1.5070862), (53.3554286, 4.1774913), (51.70602, 2.79791), (53.1793408, 4.361902), (53.2746618, 4.0376157), (53.2565915, 4.1978711), (53.2364588, 4.2826718), (53.2418011, 4.2490261), (53.3380076, 4.3007442), (53.2358424, 4.2112606), (53.3582973, 4.3807384), (53.2921087, 4.0822477), (53.259056, 4.2703122), (51.6496, 2.82583), (51.63748, 2.80555), (53.2871832, 4.0115232), (56.7316219, -1.4755006), (53.2892356, 4.0503187), (53.1457423, 4.2074841), (51.68107, 2.85147), (51.64548, 2.82023), (53.3152919, 4.0568418), (53.2910377, 4.3251201), (51.63946, 2.81616), (53.3748908, 4.3350765), (51.70794, 2.80637), (51.62509, 2.79945), (53.330012, 4.3735286), (56.7131606, -1.4243455), (51.69525, 2.79151), (53.2783121, 4.305894), (51.657, 2.84688), (53.2528944, 4.23083), (53.3548139, 4.2200634), (53.3570679, 4.3312999), (51.67513, 2.86139), (53.2383081, 4.1762417), (53.2791781, 4.1045637), (53.3873831, 4.2248785), (51.65451, 2.82988), (53.2169335, 4.1783017), (51.65195, 2.84043), (53.1122114, 4.3049104), (53.3163174, 4.1824979), (53.2859517, 4.2109173), (51.659, 2.82), (51.62636, 2.80797), (56.6745135, -1.4576478), (53.3214446, 4.1213865), (51.63002, 2.79656), (53.1998671, 4.1501492), (53.2132306, 4.2843884)
]
distance = calculate_path(selected_map)

print ('Total Distance =', distance)